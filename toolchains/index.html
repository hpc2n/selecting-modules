<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://hpc2n.github.io/selecting-modules/toolchains/" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Compiler toolchains - Selecting software modules</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../assets/_markdown_exec_pyodide.css" rel="stylesheet" />
        <link href="../assets/_markdown_exec_ansi.css" rel="stylesheet" />
        <link href="../assets/_mkdocstrings.css" rel="stylesheet" />
        <link href="../css/extra.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Compiler toolchains";
        var mkdocs_page_input_path = "toolchains.md";
        var mkdocs_page_url = "/selecting-modules/toolchains/";
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="..">
          <img src="../images/logo-modules-course_v2.png" class="logo" alt="Logo"/>
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../intro/">The module system</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../commands/">Module system commands</a>
                </li>
              </ul>
              <ul class="current">
                <li class="toctree-l1 current"><a class="reference internal current" href="#">Compiler toolchains</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#available__toolchains__by__hpc__center">Available Toolchains by HPC Center</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#toolchains__for__regular__cpu__nodes">Toolchains for regular CPU nodes</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#cuda__based__toolchains__for__gpu__nodes">CUDA based toolchains for GPU nodes</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#selecting__a__toolchain">Selecting a toolchain</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#compiling__serial__code__using__a__toolchain">Compiling serial code using a toolchain</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#toolchains__using__mpi">Toolchains using MPI</a>
    </li>
        </ul>
    </li>
    </ul>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../programs/">Software module examples</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../batch/">Modules in batch scripts</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../summary/">Summary</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Extra</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../advanced_module/">Advanced module commands</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">Selecting software modules</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">Compiler toolchains</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="compiler__toolchains">Compiler toolchains<a class="headerlink" href="#compiler__toolchains" title="Permanent link">&para;</a></h1>
<div class="admonition note">
<p class="admonition-title">Objectives</p>
<ul>
<li>Learn what compiler toolchains are and why they are used</li>
<li>Be able to find which compiler toolchains are installed</li>
<li>Be able load the compiler toolchain you want</li>
</ul>
</div>
<p>At many Swedish (and other European) HPC centres, software is built using the
EasyBuild deployment framework. Under this framework, software is built around
&ldquo;<strong>toolchains</strong>&rdquo;: compatible groups of C and Fortran compilers, MPI libraries,
linear algebra libraries, and other fundamental programs used internally by more
familiar packages that users work with directly (e.g., Python, R, GROMACS, etc.).</p>
<p>Most HPC centers recommend using toolchains to build and compile software, whether
you use EasyBuild not.  Toolchains:</p>
<ul>
<li>keep software consitent, everything is build using the same compiler and the same underlying libraries</li>
<li>provides access to modern versions of the compiler, offering recent language standards and optimisation techniques.   <ul>
<li>System compilers are often old -  <strong>Don&rsquo;t use for compiling production software</strong></li>
</ul>
</li>
<li>integrates with the module system - makes linking libraries easy</li>
</ul>
<h2 id="available__toolchains__by__hpc__center">Available Toolchains by HPC Center<a class="headerlink" href="#available__toolchains__by__hpc__center" title="Permanent link">&para;</a></h2>
<h3 id="toolchains__for__regular__cpu__nodes">Toolchains for regular CPU nodes<a class="headerlink" href="#toolchains__for__regular__cpu__nodes" title="Permanent link">&para;</a></h3>
<p>For most of the following toolchains, multiple versions are available on each of
the specified clusters. Use <code>ml spider &lt;toolchain&gt;</code> to determine which versions
are available and what modules are required as prerequisites to load them, if
any.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:6"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><input id="__tabbed_1_3" name="__tabbed_1" type="radio" /><input id="__tabbed_1_4" name="__tabbed_1" type="radio" /><input id="__tabbed_1_5" name="__tabbed_1" type="radio" /><input id="__tabbed_1_6" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">Dardel</label><label for="__tabbed_1_2">Tetralith</label><label for="__tabbed_1_3">Kebnekaise</label><label for="__tabbed_1_4">Cosmos</label><label for="__tabbed_1_5">Pelle</label><label for="__tabbed_1_6">Bianca</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>Dardel uses the <strong>Cray Programming Environment (CPE)</strong>, which differs significantly from the setup on other NAISS and University systems.  Load a <code>cpe</code> module to access a specific version of the CPE, e.g.</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>ml cpe/24.11
</span></code></pre></div>
<p>To use installed software titles installed with the latest version of the CPE, load the <code>PDC</code> module</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>ml PDC
</span></code></pre></div>
<p>Access to older software versions is provided by loading the relevant <code>PDCOLD</code> module .</p>
<p>In contrast to other systems, it is not advisable to do a <code>module purge</code> on Dardel when wanting to remove software.  Use </p>
<ul>
<li><code>module unload</code> to remove a module</li>
<li><code>module swap</code> to exchange one module for another</li>
<li><code>module load</code> which will load a module and unloads everything that conflicts</li>
</ul>
<p>On Dardel three different compilers are available.  By default you get the Cray compiling environment (CCE), commonly referred to as the <em>Cray compiler</em>.  In addition the <em>GNU compiler suite</em>, the <em>Intel Programming Environment</em> and the 
<em>AMD AOCC compilers</em> are available. The compilers can be accessed by loading on of:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>ml PrgEnv-cray
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>ml PrgEnv-gnu
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>ml PrgEng-intel
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>ml PrgEnv-aocc
</span></code></pre></div>
<p>The <code>PrgEnv-cray</code>is loaded by default after login.  </p>
<p>The modules <code>cray-libsci</code>, providing e.g. BLAS/LAPACK/ScaLAPACK and <code>cray-mpich</code> providing MPI capabilities are automatically included with all four compiler choices.</p>
<p>For software built or intended to be built with EasyBuild, there are 3 toolchains that help to assemble the appropriate combinations of the modules mentioned above, among other tools to support parallel programming.</p>
<ul>
<li>cpeCRAY: based on <code>PrgEnv-cray</code></li>
<li>cpeAMD: based on <code>PrgEnv-gnu</code></li>
<li>cpeGNU: based on <code>PrgEnv-aocc</code></li>
</ul>
<p>In the interest of time, we refer readers to <a href="https://support.pdc.kth.se/doc/software_development/development/#the-cray-programming-environment">this page on the CPE</a> and <a href="https://support.pdc.kth.se/doc/software_development/easybuild/#toolchains">this page on CPE-based toolchains</a>.</p>
</div>
<div class="tabbed-block">
<p>The toolchains available on Tetralith are called <strong>buildenv</strong>, which stands for build environment.   For CPU code build environments based on the Intel compiler and the GNU compiler suite are provided.</p>
<p>Check</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>module avail buildenv-gcc
</span></code></pre></div>
<p>or </p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>module avail buildenv-intel
</span></code></pre></div>
<p>To check the available versions.  For example command</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>module help buildenv-gcc/2023b-eb
</span></code></pre></div>
<p>shows what is included in the module. In case of <code>buildenv-gcc/2023b-eb</code> it is OpenMPI for MPI support, OpenBLAS (BLAS and LAPACK support), FFTW and ScaLAPACK in addtion to the GCC compiler suite.  </p>
<p>The <code>buildenv-intel/2023a-eb</code> contains Intel C/C++ and Fortran compilers, Intel MPI and Intel MKL.</p>
</div>
<div class="tabbed-block">
<p><strong>GCC Compiler Toolchains</strong></p>
<ul>
<li><strong>GCC</strong>: GCC compiler only</li>
<li><strong>foss</strong>: GCC, OpenMPI, OpenBLAS, FFTW, BLACS, ScaLAPACK</li>
<li><strong>gompi</strong>: GCC, OpenMPI</li>
<li><strong>gomkl</strong>: GCC, OpenMPI, MKL</li>
<li><strong>gfbf</strong>: GCC, FlexiBLAS, FFTW  (no MPI)</li>
</ul>
<p><strong>Intel Compiler Toolchains</strong></p>
<ul>
<li><strong>intel</strong>: icc, ifort, Intel MPI, MKL</li>
<li><strong>intel-compilers</strong>: icc, icpc, ifort, icx, icpx, ifx (no MPI or MKL)</li>
<li><strong>iimpi</strong>: icc, ifort, Intel MPI</li>
</ul>
</div>
<div class="tabbed-block">
<p><strong>GCC Compiler Toolchains</strong></p>
<ul>
<li><strong>GCC</strong>: GCC compiler only</li>
<li><strong>foss</strong>: GCC, OpenMPI, OpenBLAS, FFTW, BLACS, ScaLAPACK</li>
<li><strong>gompi</strong>: GCC, OpenMPI</li>
<li><strong>gomkl</strong>: GCC, OpenMPI, MKL</li>
<li><strong>gfbf</strong>: GCC, FlexiBLAS, FFTW  (no MPI)</li>
</ul>
<p><strong>Intel Compiler Toolchains</strong></p>
<ul>
<li><strong>intel</strong>: icc, ifort, Intel MPI, MKL</li>
<li><strong>intel-compilers</strong>: icc, icpc, ifort, icx, icpx, ifx (no MPI or MKL)</li>
<li><strong>iimpi</strong>: icc, ifort, Intel MPI</li>
</ul>
</div>
<div class="tabbed-block">
<p><strong>GCC Compiler Toolchains</strong></p>
<ul>
<li><strong>GCC</strong>: GCC compiler only</li>
<li><strong>foss</strong>: GCC, OpenMPI, OpenBLAS, FFTW, BLACS, ScaLAPACK</li>
<li><strong>gfbf</strong>: GCC, FlexiBLAS, FFTW  (no MPI)</li>
</ul>
<p><strong>Intel Compiler Toolchains</strong></p>
<ul>
<li><strong>intel</strong>: icc, ifort, Intel MPI, MKL</li>
<li><strong>intel-compilers</strong>: icc, icpc, ifort, icx, icpx, ifx (no MPI or MKL)</li>
<li><strong>iimpi</strong>: icc, ifort, Intel MPI</li>
</ul>
</div>
<div class="tabbed-block">
<p>Toolchains are less visible than on other clusters. Most software was built manually without EasyBuild. Expect to load compilers, MPI libraries, math libraries, and other modules individually, taking common EasyBuild toolchains as inspiration. </p>
<ul>
<li>Need only a compiler? Search for available GCC or intel modules.</li>
<li>Need math libraries, like OpenBLAS? Search for that and GCC or intel will be a dependency.</li>
<li>
<ul>
<li>On Bianca you need to load <code>gcc</code> and <code>openmpi</code> on separate lines, like:</li>
</ul>
<p>Need MPI? See UPPMAX documentation about <a href="https://docs.uppmax.uu.se/software/parallel_comb/">combinations of compilers and MPI libraries</a></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>ml<span class="w"> </span>gcc/9.3.0
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>ml<span class="w"> </span>openmpi/3.1.5
</span></code></pre></div>
</li>
</ul>
<p>The <strong>EasyBuild toolchains</strong> below may be found for <em>some</em> tools in their names and dependencies, but are mainly intended to show which libraries go together. Use <code>ml avail &lt;toolchain&gt;</code> instead of <code>ml spider &lt;toolchain&gt;</code> to see if they are available:</p>
<p><strong>GCC Compiler Toolchains</strong></p>
<ul>
<li><strong>GCC</strong>: GCC compiler only</li>
<li><strong>foss</strong>: GCC, OpenMPI, OpenBLAS, FFTW, BLACS, ScaLAPACK</li>
<li><strong>gompi</strong>: GCC, OpenMPI</li>
</ul>
<p><strong>Intel Compiler Toolchains</strong></p>
<ul>
<li><strong>intel</strong>: icc, ifort, Intel MPI, MKL</li>
<li><strong>iimpi</strong>: icc, ifort, Intel MPI</li>
</ul>
</div>
</div>
</div>
<h3 id="cuda__based__toolchains__for__gpu__nodes">CUDA based toolchains for GPU nodes<a class="headerlink" href="#cuda__based__toolchains__for__gpu__nodes" title="Permanent link">&para;</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="2:4"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><input id="__tabbed_2_3" name="__tabbed_2" type="radio" /><input id="__tabbed_2_4" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="__tabbed_2_1">Tetralith</label><label for="__tabbed_2_2">Kebnekaise</label><label for="__tabbed_2_3">Cosmos</label><label for="__tabbed_2_4">Pelle</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p><strong>GCC Compiler Toolchains for GPU</strong></p>
<ul>
<li><strong>buildenv-gcccuda</strong>: GCC, CUDA, OpenMPI, OpenBLAS, FFTW, ScaLAPACK</li>
</ul>
</div>
<div class="tabbed-block">
<ul>
<li>As of today you load GCC and CUDA separately.</li>
<li>
<p>New tools are typically build with the latest versions of both.</p>
</li>
<li>
<p>foss, GCC, CUDA</p>
</li>
<li>intel, CUDA </li>
</ul>
</div>
<div class="tabbed-block">
<p><strong>GCC Compiler Toolchains for GPU</strong></p>
<ul>
<li><strong>gcccuda</strong>:  GCC, CUDA</li>
<li><strong>fosscuda</strong>: GCC, CUDA, OpenMPI, OpenBLAS, FFTW, ScaLAPACK</li>
</ul>
<p><strong>Intel Compiler Toolchains for GPU</strong></p>
<ul>
<li><strong>iccifortcuda</strong>: icc, ifort, CUDA</li>
<li><strong>iimpic</strong>: icc, ifort, CUDA, Intel MPI</li>
<li><strong>intelcuda</strong>: icc, ifort, CUDA, Intel MPI, MKL</li>
</ul>
</div>
<div class="tabbed-block">
<ul>
<li>As of today you load GCC and CUDA separately.</li>
<li>New tools are typically build with the latest versions of both.</li>
</ul>
</div>
</div>
</div>
<h2 id="selecting__a__toolchain">Selecting a toolchain<a class="headerlink" href="#selecting__a__toolchain" title="Permanent link">&para;</a></h2>
<p>The above toolchain choices can be a bit overwhelming, especially for new users. 
Good choices for general use are the toolchains:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="3:3"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio" /><input id="__tabbed_3_2" name="__tabbed_3" type="radio" /><input id="__tabbed_3_3" name="__tabbed_3" type="radio" /><div class="tabbed-labels"><label for="__tabbed_3_1">Dardel</label><label for="__tabbed_3_2">Tetralith</label><label for="__tabbed_3_3">Kebnekaise, Cosmos, Pelle</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<ul>
<li><strong>PrgEnv-cray</strong>, Cray compiling environment (CCE)</li>
<li><strong>PrgEnv-gnu</strong>, GNU compiler suite</li>
<li><strong>PrgEnv-intel</strong>, Intel Programming Environment</li>
<li><strong>PrgEnv-aocc</strong>, AMD AOCC compilers* </li>
</ul>
<p><strong>Example:</strong> to check the Programming envrionmnets available, use</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>ml<span class="w"> </span>avail<span class="w"> </span>PrgEnv
</span></code></pre></div>
</div>
<div class="tabbed-block">
<ul>
<li><strong>buildenv-gcc</strong>, to use the GCC compiler suite</li>
<li><strong>buildenv-intel</strong> to use the Intel compiler suite</li>
</ul>
<p><strong>Example:</strong> to check the Programming envrionmnets available, use</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>ml<span class="w"> </span>avail<span class="w"> </span>buildenv
</span></code></pre></div>
</div>
<div class="tabbed-block">
<ul>
<li><strong>foss</strong>, to use the GCC compiler suite</li>
<li><strong>intel</strong>, to use the Intel compiler suite</li>
<li><strong>gomkl</strong>, to use the GCC compiler suite with Intel&rsquo;s Math Kernel Library (MKL)</li>
</ul>
<p><strong>Example:</strong> To check the foss versions available, use</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="w"> </span>module<span class="w"> </span>avail<span class="w"> </span>foss
</span></code></pre></div>
<p>and you will get an output similar to this example on COSMOS:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>-----------------<span class="w"> </span>/sw/easybuild_milan/modules/all/Core<span class="w"> </span>------------------
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>foss/2020b<span class="w">    </span>foss/2022a<span class="w">    </span>foss/2023b<span class="w">          </span>fosscuda/2020b
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a>foss/2021a<span class="w">    </span>foss/2022b<span class="w">    </span>foss/2024a
</span><span id="__span-10-4"><a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a>foss/2021b<span class="w">    </span>foss/2023a<span class="w">    </span>foss/2024.05<span class="w"> </span><span class="o">(</span>D<span class="o">)</span>
</span><span id="__span-10-5"><a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a>
</span><span id="__span-10-6"><a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a>Where:
</span><span id="__span-10-7"><a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a>D:<span class="w">  </span>Default<span class="w"> </span>Module
</span><span id="__span-10-8"><a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a>
</span><span id="__span-10-9"><a id="__codelineno-10-9" name="__codelineno-10-9" href="#__codelineno-10-9"></a>If<span class="w"> </span>the<span class="w"> </span>avail<span class="w"> </span>list<span class="w"> </span>is<span class="w"> </span>too<span class="w"> </span>long<span class="w"> </span>consider<span class="w"> </span>trying:
</span><span id="__span-10-10"><a id="__codelineno-10-10" name="__codelineno-10-10" href="#__codelineno-10-10"></a>
</span><span id="__span-10-11"><a id="__codelineno-10-11" name="__codelineno-10-11" href="#__codelineno-10-11"></a><span class="s2">&quot;module --default avail&quot;</span><span class="w"> </span>or<span class="w"> </span><span class="s2">&quot;ml -d av&quot;</span><span class="w"> </span>to<span class="w"> </span>just<span class="w"> </span>list<span class="w"> </span>the<span class="w"> </span>default<span class="w"> </span>modules.
</span><span id="__span-10-12"><a id="__codelineno-10-12" name="__codelineno-10-12" href="#__codelineno-10-12"></a><span class="s2">&quot;module overview&quot;</span><span class="w"> </span>or<span class="w"> </span><span class="s2">&quot;ml ov&quot;</span><span class="w"> </span>to<span class="w"> </span>display<span class="w"> </span>the<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>modules<span class="w"> </span><span class="k">for</span><span class="w"> </span>each<span class="w"> </span>
</span><span id="__span-10-13"><a id="__codelineno-10-13" name="__codelineno-10-13" href="#__codelineno-10-13"></a>name.<span class="w">  </span>
</span><span id="__span-10-14"><a id="__codelineno-10-14" name="__codelineno-10-14" href="#__codelineno-10-14"></a>
</span><span id="__span-10-15"><a id="__codelineno-10-15" name="__codelineno-10-15" href="#__codelineno-10-15"></a>Use<span class="w"> </span><span class="s2">&quot;module spider&quot;</span><span class="w"> </span>to<span class="w"> </span>find<span class="w"> </span>all<span class="w"> </span>possible<span class="w"> </span>modules<span class="w"> </span>and<span class="w"> </span>extensions.
</span><span id="__span-10-16"><a id="__codelineno-10-16" name="__codelineno-10-16" href="#__codelineno-10-16"></a>Use<span class="w"> </span><span class="s2">&quot;module keyword key1 key2 ...&quot;</span><span class="w"> </span>to<span class="w"> </span>search<span class="w"> </span><span class="k">for</span><span class="w"> </span>all<span class="w"> </span>possible<span class="w"> </span>modules
</span><span id="__span-10-17"><a id="__codelineno-10-17" name="__codelineno-10-17" href="#__codelineno-10-17"></a>matching<span class="w"> </span>any<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span><span class="s2">&quot;keys&quot;</span>.
</span></code></pre></div>
<p>The version numbers indicate roughly when each version was released. Version 2023a was released at the beginning of 2023, 2023b in the middle of 2023, and  2024a at the start of 2024. If you load e.g. the <code>foss/2024a</code> module as shown below,</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>module<span class="w"> </span>load<span class="w"> </span>foss/2024a
</span></code></pre></div>
<p>It will load several modules for you, including the compiler, libraries, and
other utilities. The command <code>module list</code>, or <code>ml</code> for short, can then show you
what modules are now loaded and available for use. Below is the output of <code>ml</code>
after loading <code>foss/2024a</code> on COSMOS:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>Currently<span class="w"> </span>Loaded<span class="w"> </span>Modules:
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="w"> </span><span class="m">1</span><span class="o">)</span><span class="w"> </span>SoftwareTree/Milan<span class="w">  </span><span class="o">(</span>S<span class="o">)</span><span class="w">  </span><span class="m">13</span><span class="o">)</span><span class="w"> </span>UCX/1.16.0
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="w"> </span><span class="m">2</span><span class="o">)</span><span class="w"> </span>GCCcore/13.3.0<span class="w">           </span><span class="m">14</span><span class="o">)</span><span class="w"> </span>libfabric/1.21.0
</span><span id="__span-12-4"><a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a><span class="w"> </span><span class="m">3</span><span class="o">)</span><span class="w"> </span>zlib/1.3.1<span class="w">               </span><span class="m">15</span><span class="o">)</span><span class="w"> </span>PMIx/5.0.2
</span><span id="__span-12-5"><a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a><span class="w"> </span><span class="m">4</span><span class="o">)</span><span class="w"> </span>binutils/2.42<span class="w">            </span><span class="m">16</span><span class="o">)</span><span class="w"> </span>PRRTE/3.0.5
</span><span id="__span-12-6"><a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a><span class="w"> </span><span class="m">5</span><span class="o">)</span><span class="w"> </span>GCC/13.3.0<span class="w">               </span><span class="m">17</span><span class="o">)</span><span class="w"> </span>UCC/1.3.0
</span><span id="__span-12-7"><a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a><span class="w"> </span><span class="m">6</span><span class="o">)</span><span class="w"> </span>numactl/2.0.18<span class="w">           </span><span class="m">18</span><span class="o">)</span><span class="w"> </span>OpenMPI/5.0.3
</span><span id="__span-12-8"><a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a><span class="w"> </span><span class="m">7</span><span class="o">)</span><span class="w"> </span>XZ/5.4.5<span class="w">                 </span><span class="m">19</span><span class="o">)</span><span class="w"> </span>OpenBLAS/0.3.27
</span><span id="__span-12-9"><a id="__codelineno-12-9" name="__codelineno-12-9" href="#__codelineno-12-9"></a><span class="w"> </span><span class="m">8</span><span class="o">)</span><span class="w"> </span>libxml2/2.12.7<span class="w">           </span><span class="m">20</span><span class="o">)</span><span class="w"> </span>FlexiBLAS/3.4.4
</span><span id="__span-12-10"><a id="__codelineno-12-10" name="__codelineno-12-10" href="#__codelineno-12-10"></a><span class="w"> </span><span class="m">9</span><span class="o">)</span><span class="w"> </span>libpciaccess/0.18.1<span class="w">      </span><span class="m">21</span><span class="o">)</span><span class="w"> </span>FFTW/3.3.10
</span><span id="__span-12-11"><a id="__codelineno-12-11" name="__codelineno-12-11" href="#__codelineno-12-11"></a><span class="m">10</span><span class="o">)</span><span class="w"> </span>hwloc/2.10.0<span class="w">             </span><span class="m">22</span><span class="o">)</span><span class="w"> </span>FFTW.MPI/3.3.10
</span><span id="__span-12-12"><a id="__codelineno-12-12" name="__codelineno-12-12" href="#__codelineno-12-12"></a><span class="m">11</span><span class="o">)</span><span class="w"> </span>OpenSSL/3<span class="w">                </span><span class="m">23</span><span class="o">)</span><span class="w"> </span>ScaLAPACK/2.2.0-fb
</span><span id="__span-12-13"><a id="__codelineno-12-13" name="__codelineno-12-13" href="#__codelineno-12-13"></a><span class="m">12</span><span class="o">)</span><span class="w"> </span>libevent/2.1.12<span class="w">          </span><span class="m">24</span><span class="o">)</span><span class="w"> </span>foss/2024a
</span><span id="__span-12-14"><a id="__codelineno-12-14" name="__codelineno-12-14" href="#__codelineno-12-14"></a>
</span><span id="__span-12-15"><a id="__codelineno-12-15" name="__codelineno-12-15" href="#__codelineno-12-15"></a>Where:
</span><span id="__span-12-16"><a id="__codelineno-12-16" name="__codelineno-12-16" href="#__codelineno-12-16"></a><span class="w"> </span>S:<span class="w">  </span>Module<span class="w"> </span>is<span class="w"> </span>Sticky,<span class="w"> </span>requires<span class="w"> </span>--force<span class="w"> </span>to<span class="w"> </span>unload<span class="w"> </span>or<span class="w"> </span>purge
</span></code></pre></div>
</div>
</div>
</div>
<p>After loading a toolchain, many new modules become available, each reliant on
the specific versions of the modules included in the toolchain. Use <code>ml avail</code>
to see what modules you can load given the toolchain you&rsquo;ve loaded.</p>
<p>For some packages with very long or very short release intervals, there may be
multiple versions of a software package available for your chosen toolchain.
The version that loads by default if no version number is given will have a
<code>(D)</code> to the right of it when listed using <code>ml avail</code>. This default version is
subject to change, so it is recommended to always provide version numbers.</p>
<p>Not all modules have a version associated with your choice of toolchain. If you
switch toolchains, keep the following in mind:</p>
<ul>
<li>The module system will attempt to upgrade or downgrade any previously
loaded modules to match the new choice of toolchain.</li>
<li>If one or more modules loaded with the previous choice of toolchain do
not have a version installed that is compatible with the new toolchain,
then the module system will raise an error.</li>
<li>For some packages (e.g., Python, Perl, etc.) there is a system version
built into the operating system that runs without loading any module or
toolchain. These should be avoided since they are subject to change.</li>
</ul>
<h2 id="compiling__serial__code__using__a__toolchain">Compiling serial code using a toolchain<a class="headerlink" href="#compiling__serial__code__using__a__toolchain" title="Permanent link">&para;</a></h2>
<div class="tabbed-set tabbed-alternate" data-tabs="4:3"><input checked="checked" id="__tabbed_4_1" name="__tabbed_4" type="radio" /><input id="__tabbed_4_2" name="__tabbed_4" type="radio" /><input id="__tabbed_4_3" name="__tabbed_4" type="radio" /><div class="tabbed-labels"><label for="__tabbed_4_1">Dardel</label><label for="__tabbed_4_2">Tetralith</label><label for="__tabbed_4_3">Kebnekaise, Cosmos, Pelle</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>After loading a PrgEnv one always uses the same compiler wrappers for compiling, independent of the compiler suite used.  These wrappers are recommended for serail and parallel code.</p>
<table>
<thead>
<tr>
<th style="text-align: left;">Coding Language</th>
<th style="text-align: left;">Compiler wrapper</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">C</td>
<td style="text-align: left;">cc</td>
</tr>
<tr>
<td style="text-align: left;">C++</td>
<td style="text-align: left;">CC</td>
</tr>
<tr>
<td style="text-align: left;">Fortran</td>
<td style="text-align: left;">ftn</td>
</tr>
</tbody>
</table>
</div>
<div class="tabbed-block">
<p>After loading your buildenv choose your compiler command from the following table based on your coding language.</p>
<table>
<thead>
<tr>
<th style="text-align: left;">Coding Language</th>
<th style="text-align: left;">If buildenv-gcc</th>
<th style="text-align: left;">If buildenv-intel</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">C</td>
<td style="text-align: left;">gcc</td>
<td style="text-align: left;">icc</td>
</tr>
<tr>
<td style="text-align: left;">C++</td>
<td style="text-align: left;">g++</td>
<td style="text-align: left;">icpc</td>
</tr>
<tr>
<td style="text-align: left;">Fortran</td>
<td style="text-align: left;">gfortran</td>
<td style="text-align: left;">ifort</td>
</tr>
</tbody>
</table>
</div>
<div class="tabbed-block">
<p>If you have loaded a toolchain, choose your compiler from the following table
based on your coding language and toolchain choice. Note that there are 2 Intel
versions per language; versions ending with x are newer OneAPI versions supported
from 2023 onward.</p>
<table>
<thead>
<tr>
<th style="text-align: left;">Coding Language</th>
<th style="text-align: left;">If GCC Toolchain</th>
<th style="text-align: left;">If Intel Toolchain</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">C</td>
<td style="text-align: left;">gcc</td>
<td style="text-align: left;">icc, icx</td>
</tr>
<tr>
<td style="text-align: left;">C++</td>
<td style="text-align: left;">g++</td>
<td style="text-align: left;">icpc, icpx</td>
</tr>
<tr>
<td style="text-align: left;">Fortran</td>
<td style="text-align: left;">gfortran</td>
<td style="text-align: left;">ifort, ifx</td>
</tr>
</tbody>
</table>
<p>For some open-source toolchains, there may be no difference between compiling
serial code with a toolchain and using a built-in compiler. The differences are
more visible when using an Intel toolchain or when using MPI.</p>
</div>
</div>
</div>
<h3 id="toolchains__using__mpi">Toolchains using MPI<a class="headerlink" href="#toolchains__using__mpi" title="Permanent link">&para;</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="5:3"><input checked="checked" id="__tabbed_5_1" name="__tabbed_5" type="radio" /><input id="__tabbed_5_2" name="__tabbed_5" type="radio" /><input id="__tabbed_5_3" name="__tabbed_5" type="radio" /><div class="tabbed-labels"><label for="__tabbed_5_1">Dardel</label><label for="__tabbed_5_2">Tetralith</label><label for="__tabbed_5_3">Kebnekaise, Cosmos, Pelle</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>After loading a PrgEnv one always uses the same compiler wrappers for compiling, independent of the compiler suite used.  These wrappers are recommended for serail and parallel code.</p>
<table>
<thead>
<tr>
<th style="text-align: left;">Coding Language</th>
<th style="text-align: left;">Compiler wrapper</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">C</td>
<td style="text-align: left;">cc</td>
</tr>
<tr>
<td style="text-align: left;">C++</td>
<td style="text-align: left;">CC</td>
</tr>
<tr>
<td style="text-align: left;">Fortran</td>
<td style="text-align: left;">ftn</td>
</tr>
</tbody>
</table>
</div>
<div class="tabbed-block">
<p>The table below shows which MPI compiler to use given your choices of toolchain
and coding language:</p>
<table>
<thead>
<tr>
<th style="text-align: left;">Coding Language</th>
<th style="text-align: left;">If buildenv-gcc</th>
<th style="text-align: left;">If buildenv-intel</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">C</td>
<td style="text-align: left;">mpicc</td>
<td style="text-align: left;">mpiicc</td>
</tr>
<tr>
<td style="text-align: left;">C++</td>
<td style="text-align: left;">mpicxx</td>
<td style="text-align: left;">mpiicpc</td>
</tr>
<tr>
<td style="text-align: left;">Fortran</td>
<td style="text-align: left;">mpifort</td>
<td style="text-align: left;">mpiifort</td>
</tr>
</tbody>
</table>
</div>
<div class="tabbed-block">
<p>The table below shows which MPI compiler to use given your choices of toolchain
and coding language:</p>
<table>
<thead>
<tr>
<th style="text-align: left;">Coding Language</th>
<th style="text-align: left;">If Toolchain with OpenMPI</th>
<th style="text-align: left;">If Intel Toolchain</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">C</td>
<td style="text-align: left;">mpicc</td>
<td style="text-align: left;">mpiicc</td>
</tr>
<tr>
<td style="text-align: left;">C++</td>
<td style="text-align: left;">mpicxx</td>
<td style="text-align: left;">mpiicpc</td>
</tr>
<tr>
<td style="text-align: left;">Fortran</td>
<td style="text-align: left;">mpifort</td>
<td style="text-align: left;">mpiifort</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../commands/" class="btn btn-neutral float-left" title="Module system commands"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../programs/" class="btn btn-neutral float-right" title="Software module examples">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../commands/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../programs/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../assets/_markdown_exec_pyodide.js"></script>
      <script src="../search/main.js"></script>
      <script src="../js/open_in_new_tab.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
